# 系统测试检查清单

**日期**: 2026-02-09
**状态**: 准备就绪,等待执行

---

## ✅ 准备工作完成情况

### 代码实现
- [x] 后端41个API端点实现完成
- [x] 前端7个页面/组件实现完成
- [x] 代码审查完成(评分4.8/5)
- [x] 代码质量检查通过

### 测试准备
- [x] API测试脚本创建完成(`test-api.sh`)
- [x] 后端启动脚本创建完成(`start-backend.sh`)
- [x] 测试文档编写完成(7个文档)
- [x] 测试计划制定完成(87个测试用例)

---

## 📋 环境配置清单

### 必需组件检查

| 组件 | 要求版本 | 状态 | 安装命令 |
|-----|---------|------|---------|
| JDK | 17+ | ✅ 已安装 | - |
| Maven | 3.8+ | ✅ 已安装 | - |
| MySQL | 8.0+ | ✅ 已安装并运行 | - |
| Redis | 7.x | ❌ 需要安装 | `brew install redis` |
| Node.js | 18+ | ✅ 已安装 | - |

### 配置步骤

#### 1. 安装Redis
```bash
brew install redis
brew services start redis
redis-cli ping  # 应返回PONG
```

#### 2. 准备数据库
```bash
mysql -u root -e "CREATE DATABASE IF NOT EXISTS chatbot_router CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"
```

#### 3. 配置文件检查
- [x] `application-dev.yml` 配置正确
- [x] 数据库连接配置正确
- [x] Redis连接配置正确

---

## 🚀 启动清单

### 步骤1: 启动后端

**终端1**:
```bash
cd /Users/zexinxu/IdeaProjects/specqq
./start-backend.sh
```

**验证**:
- [ ] 看到 "Started ChatbotRouterApplication"
- [ ] 访问 http://localhost:8080/actuator/health 返回 UP
- [ ] 无ERROR日志

### 步骤2: 启动前端

**终端2**:
```bash
cd /Users/zexinxu/IdeaProjects/specqq/frontend
npm install  # 首次运行
npm run dev
```

**验证**:
- [ ] 看到 "Local: http://localhost:5173/"
- [ ] 访问 http://localhost:5173 页面正常显示
- [ ] 无编译错误

### 步骤3: 运行API测试

**终端3**:
```bash
cd /Users/zexinxu/IdeaProjects/specqq
./test-api.sh
```

**验证**:
- [ ] 所有测试用例执行完成
- [ ] 通过率 > 95%
- [ ] 无阻塞性错误

---

## 🧪 测试执行清单

### API测试 (45个用例)

#### 认证API (8个用例)
- [ ] 初始化管理员账户
- [ ] 登录成功
- [ ] 登录失败(错误密码)
- [ ] 获取用户信息
- [ ] Token刷新
- [ ] 修改密码
- [ ] 登出
- [ ] 黑名单token访问拒绝

#### 规则管理API (12个用例)
- [ ] 创建规则
- [ ] 查询规则列表
- [ ] 搜索规则(关键词)
- [ ] 过滤规则(匹配类型)
- [ ] 获取规则详情
- [ ] 更新规则
- [ ] 复制规则
- [ ] 启用/禁用规则
- [ ] 删除规则
- [ ] 批量删除规则
- [ ] 验证正则表达式
- [ ] 测试规则匹配

#### 群聊管理API (11个用例)
- [ ] 查询群聊列表
- [ ] 搜索群聊
- [ ] 获取群聊详情
- [ ] 启用/禁用群聊
- [ ] 获取群聊配置
- [ ] 更新群聊配置
- [ ] 获取群聊规则
- [ ] 绑定规则到群聊
- [ ] 解绑群聊规则
- [ ] 批量导入群聊
- [ ] 获取群聊统计

#### 日志管理API (14个用例)
- [ ] 查询日志列表
- [ ] 按群聊ID过滤
- [ ] 按用户ID过滤
- [ ] 按状态过滤
- [ ] 按时间范围查询
- [ ] 获取日志详情
- [ ] 导出CSV
- [ ] 批量删除日志
- [ ] 清理历史日志
- [ ] 获取日志统计
- [ ] 获取热门规则
- [ ] 获取活跃用户
- [ ] 获取消息趋势
- [ ] 重试失败消息

### 前端测试 (42个用例)

#### 认证流程 (8个用例)
- [ ] 初始化管理员
- [ ] 登录成功
- [ ] 登录失败提示
- [ ] 记住密码功能
- [ ] Token过期自动跳转
- [ ] 修改密码流程
- [ ] 登出流程
- [ ] 未登录访问拦截

#### 规则管理页面 (14个用例)
- [ ] 列表加载与分页
- [ ] 关键词搜索
- [ ] 匹配类型过滤
- [ ] 状态过滤
- [ ] 重置搜索
- [ ] 新建规则
- [ ] 编辑规则
- [ ] 复制规则
- [ ] 启用/禁用
- [ ] 删除规则
- [ ] 批量删除
- [ ] 正则验证
- [ ] 规则测试
- [ ] 表单验证

#### 群聊管理页面 (3个用例)
- [ ] 列表加载
- [ ] 启用/禁用
- [ ] 分页

#### 日志管理页面 (10个用例)
- [ ] 列表加载
- [ ] 群聊选择器
- [ ] 用户ID过滤
- [ ] 状态过滤
- [ ] 时间范围选择
- [ ] 重置搜索
- [ ] 导出CSV
- [ ] 查看详情
- [ ] 重试失败消息
- [ ] 分页

#### 组件测试 (7个用例)
- [ ] GroupSelector单选
- [ ] GroupSelector多选
- [ ] GroupSelector搜索
- [ ] GroupSelector清空
- [ ] RuleForm验证
- [ ] RuleForm正则验证
- [ ] RuleForm测试

### 集成测试 (7个场景)
- [ ] 完整登录流程
- [ ] 规则CRUD流程
- [ ] 规则测试流程
- [ ] 群聊配置流程
- [ ] 日志查询流程
- [ ] Token刷新流程
- [ ] 错误处理流程

---

## 📊 测试结果记录

### 执行信息
- 测试开始时间: ___________
- 测试结束时间: ___________
- 测试执行人: ___________

### 测试统计
- API测试用例总数: 45
- API测试通过数: ___
- API测试失败数: ___
- API测试通过率: ___%

- 前端测试用例总数: 42
- 前端测试通过数: ___
- 前端测试失败数: ___
- 前端测试通过率: ___%

- 集成测试场景总数: 7
- 集成测试通过数: ___
- 集成测试失败数: ___
- 集成测试通过率: ___%

### 总体评估
- [ ] 功能完整性: 所有功能按预期工作
- [ ] 性能指标: 响应时间满足要求
- [ ] 安全性: 认证授权机制有效
- [ ] 用户体验: 界面友好,交互流畅
- [ ] 错误处理: 异常处理完善

---

## 🐛 问题记录

### 发现的问题

| 问题ID | 严重程度 | 问题描述 | 影响范围 | 状态 |
|--------|---------|---------|---------|------|
| - | - | - | - | - |

### 改进建议

1. ___________________________
2. ___________________________
3. ___________________________

---

## ✅ 验收标准

### 必须满足
- [ ] API测试通过率 ≥ 95%
- [ ] 前端测试通过率 ≥ 95%
- [ ] 集成测试通过率 = 100%
- [ ] 无阻塞性bug
- [ ] 无安全漏洞

### 建议满足
- [ ] 响应时间 < 预期值
- [ ] 并发性能达标
- [ ] 代码覆盖率 > 80%
- [ ] 文档完整准确

---

## 📝 测试完成后

### 必做事项
1. [ ] 填写测试结果记录
2. [ ] 更新 `SYSTEM_TEST_REPORT.md`
3. [ ] 记录发现的问题
4. [ ] 创建bug修复任务(如有)

### 可选事项
1. [ ] 性能测试报告
2. [ ] 压力测试结果
3. [ ] 安全测试报告
4. [ ] 用户体验评估

---

## 🎯 下一步

测试完成并通过后:
1. [ ] 标记 Phase 4 为完成
2. [ ] 更新项目进度
3. [ ] 开始 Phase 5: User Story 3
4. [ ] 准备生产环境部署

---

## 📞 联系方式

- **问题反馈**: 创建GitHub Issue
- **紧急问题**: 查看 `QUICK_START_TESTING.md` 常见问题
- **文档**: 查看 `README_TESTING.md`

---

**测试文档版本**: v1.0
**最后更新**: 2026-02-09
**下次审查**: 测试完成后
